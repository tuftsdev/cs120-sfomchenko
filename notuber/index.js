function init(){navigator.geolocation.getCurrentPosition(function e(t){var n=t.coords.latitude,a=t.coords.longitude;let o=new google.maps.LatLng(n,a);var s={zoom:2,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP},r=new google.maps.Map(document.getElementById("map_canvas"),s);(request=new XMLHttpRequest).open("POST","https://quiet-cliffs-10971.herokuapp.com/rides",!0),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.onreadystatechange=function(){if(4==request.readyState&&200==request.status){parsedData=JSON.parse(resultingData=request.responseText);let e=[];for(var t,n=0;n<parsedData.length;n++){parsedData[n]._id;var a=parsedData[n].username,s=parsedData[n].lat,p=parsedData[n].lng;parsedData[n].created_at;var i=new google.maps.LatLng(s,p),c=google.maps.geometry.spherical.computeDistanceBetween(o,i),l=621371e-9*c;e.push(l);var m=new google.maps.Marker({position:i,title:a,icon:"car.png"});m.setMap(r)}t=Math.min.apply(Math,e);for(var n=0;n<parsedData.length;n++){parsedData[n].created_on,parsedData[n].id;var s=parsedData[n].lat,p=parsedData[n].lng,a=parsedData[n].username,i=new google.maps.LatLng(s,p),c=google.maps.geometry.spherical.computeDistanceBetween(o,i),l=621371e-9*c;if(l==t){let d=new google.maps.Polyline({path:[o,i],geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});d.setMap(r)}}var u=new google.maps.Marker({position:o,title:"Home"});u.setMap(r);var $=new google.maps.InfoWindow({content:"Closest Car is: "+t});google.maps.event.addListener(u,"click",function(){$.open(r,u)}),google.maps.event.addListener(m,"click",function(){$.setContent(m.title),$.open(r,m)})}},request.send("username=uVnnFbz7&lat="+n+"&lng="+a)})}