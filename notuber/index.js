function init(){navigator.geolocation.getCurrentPosition(function e(t){t.coords.latitude,t.coords.longitude;let n=new google.maps.LatLng("42.4085371","-71.1204669");var a={zoom:12,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP},s=new google.maps.Map(document.getElementById("map_canvas"),a);(request=new XMLHttpRequest).open("POST","https://quiet-cliffs-10971.herokuapp.com/rides",!0),request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),request.onreadystatechange=function(){if(4==request.readyState&&200==request.status){parsedData=JSON.parse(resultingData=request.responseText);let e=[];for(var t,a=0;a<parsedData.length;a++){var o=parsedData[a].username,p=parsedData[a].lat,r=parsedData[a].lng,i=new google.maps.LatLng(p,r),l=google.maps.geometry.spherical.computeDistanceBetween(n,i),c=621371e-9*l;e.push(c);var $=new google.maps.Marker({position:i,title:o,icon:"car.png"});$.setMap(s)}t=Math.min.apply(Math,e);for(var a=0;a<parsedData.length;a++){var p=parsedData[a].lat,r=parsedData[a].lng,o=parsedData[a].username,i=new google.maps.LatLng(p,r),l=google.maps.geometry.spherical.computeDistanceBetween(n,i),c=621371e-9*l;if(c==t){let m=new google.maps.Polyline({path:[n,i],geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});m.setMap(s)}}marker.setMap(s);var u=new google.maps.InfoWindow({content:"Closest Car is: "+t});google.maps.event.addListener(marker,"click",function(){u.open(s,marker)}),google.maps.event.addListener($,"click",function(){u.setContent($.title),u.open(s,$)})}};var o="42.4085371",p="-71.1204669",r="TestyTest",i="username="+r+"&lat="+o+"&lng="+p;request.send(i);let l=new google.maps.LatLng("42.4085371","-71.1204669");(requestVehicles=new XMLHttpRequest).open("POST","https://quiet-cliffs-10971.herokuapp.com/checkin",!0),requestVehicles.setRequestHeader("Content-type","application/x-www-form-urlencoded"),requestVehicles.onreadystatechange=function(){if(4==requestVehicles.readyState&&200==requestVehicles.status){parsedData=JSON.parse(resultingData=requestVehicles.responseText);let e=[];for(var t,n=0;n<parsedData.length;n++){var a=parsedData[n].username,o=parsedData[n].lat,p=parsedData[n].lng,r=new google.maps.LatLng(o,p),i=google.maps.geometry.spherical.computeDistanceBetween(l,r),c=621371e-9*i;e.push(c);var $=new google.maps.Marker({position:r,title:a});$.setMap(s)}t=Math.min.apply(Math,e);for(var n=0;n<parsedData.length;n++){var o=parsedData[n].lat,p=parsedData[n].lng,a=parsedData[n].username,r=new google.maps.LatLng(o,p),i=google.maps.geometry.spherical.computeDistanceBetween(l,r),c=621371e-9*i;if(c==t){let m=new google.maps.Polyline({path:[l,r],geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});m.setMap(s)}}var u=new google.maps.InfoWindow({content:"Closest Passenger is: "+t});google.maps.event.addListener(marker,"click",function(){u.open(s,marker)}),google.maps.event.addListener($,"click",function(){u.setContent($.title),u.open(s,$)})}};var o="42.4085371",p="-71.1204669",r="Vroom",i="username="+r+"&lat="+o+"&lng="+p;requestVehicles.send(i)})}